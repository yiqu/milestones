function _defineProperties(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{txKf:function(n,e,t){"use strict";t.r(e),t.d(e,"AuthModule",(function(){return Z}));var r,i,a=t("3Pt+"),o=t("UmVK"),s=t("fXoL"),c=((r=function n(){_classCallCheck(this,n)}).\u0275mod=s.Ob({type:r}),r.\u0275inj=s.Nb({factory:function(n){return new(n||r)},providers:[],imports:[[]]}),r),l=t("ofXK"),b=t("tyNb"),u=((i=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"ngOnInit",value:function(){}}]),n}()).\u0275fac=function(n){return new(n||i)},i.\u0275cmp=s.Kb({type:i,selectors:[["app-auth-home"]],decls:2,vars:0,consts:[[1,"container","mb-3"]],template:function(n,e){1&n&&(s.Wb(0,"div",0),s.Rb(1,"router-outlet"),s.Vb())},directives:[b.f],styles:[""]}),i);function d(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new a.d({value:n||null,disabled:e},t,r)}var m,g=t("KJJU"),p=t("AytR"),f=t("XNiG"),h=t("1G5W"),v=t("lGQG"),C=t("kt0X"),w=t("Wp6s"),y=t("kmnG"),V=t("qFsG"),W=t("NFeN"),k=t("bSwM"),F=t("Xa2L"),I=((m=function(){function n(){_classCallCheck(this,n),this.colorPalette="primary",this.diameter=55}return _createClass(n,[{key:"ngOnInit",value:function(){}}]),n}()).\u0275fac=function(n){return new(n||m)},m.\u0275cmp=s.Kb({type:m,selectors:[["app-loading-spinner"]],inputs:{colorPalette:"colorPalette",diameter:"diameter"},decls:1,vars:2,consts:[[3,"color","diameter"]],template:function(n,e){1&n&&s.Rb(0,"mat-spinner",0),2&n&&s.nc("color",e.colorPalette)("diameter",e.diameter)},directives:[F.b],encapsulation:2}),m),D=t("bTqV");function O(n,e){if(1&n&&(s.Wb(0,"div"),s.Wb(1,"div",20),s.Cc(2),s.Vb(),s.Vb()),2&n){var t=s.ic();s.Db(2),s.Ec(" ",t.errorMsg," ")}}function M(n,e){1&n&&s.Rb(0,"app-loading-spinner",21),2&n&&s.nc("diameter",25)}function P(n,e){if(1&n){var t=s.Xb();s.Wb(0,"button",22),s.ec("click",(function(){return s.uc(t),s.ic().onSignInClick()})),s.Cc(1,"Sign in"),s.Vb()}if(2&n){var r=s.ic();s.nc("disabled",r.idFc.invalid)}}var _,E=function(){return["../","signup"]},S=((_=function(){function n(e,t,r,i){var o=this;_classCallCheck(this,n),this.fb=e,this.as=t,this.router=r,this.store=i,this.signInTitle="Sign in with your Milestones Account",this.avartarImgSrc="assets/banner/milestones-banner-4.png",this.compDest$=new f.a;var s=null,c=null;this.store.select("appAuth").pipe(Object(h.a)(this.compDest$)).subscribe((function(n){o.errorMsg=n.errorMsg,o.errorOccured=n.error,o.loading=n.loading,o.disableFieldsOnLoading(n.loading)})),p.a.production||(s="t1@test.com",c="123456"),this.signFg=this.fb.group({id:d(s,!1,[a.o.required,a.o.email]),password:d(c,!1),saveSession:d(!0,!1)})}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.as.clearErrors(),this.signFg.valueChanges.pipe(Object(h.a)(this.compDest$)).subscribe((function(e){n.as.clearErrors()}))}},{key:"onSignInClick",value:function(){if(this.passwordFc.value&&""!==this.passwordFc.value.trim()){var n=new g.a(this.signFg.value.id,this.signFg.value.password,this.signFg.value.saveSession);this.signIn(n)}else this.as.throwErrorMessage("Enter a password.")}},{key:"signIn",value:function(n){this.as.userLogin(n)}},{key:"disableFieldsOnLoading",value:function(n){this.signFg&&(n?this.signFg.disable({onlySelf:!0,emitEvent:!1}):this.signFg.enable({onlySelf:!0,emitEvent:!1}))}},{key:"ngOnDestroy",value:function(){this.compDest$.next(),this.compDest$.complete()}},{key:"idFc",get:function(){return this.signFg.get("id")}},{key:"passwordFc",get:function(){return this.signFg.get("password")}}]),n}()).\u0275fac=function(n){return new(n||_)(s.Qb(a.c),s.Qb(v.a),s.Qb(b.b),s.Qb(C.h))},_.\u0275cmp=s.Kb({type:_,selectors:[["app-auth-signin"]],decls:38,vars:11,consts:[[1,"row","mb-3","roboto","text-center","mt-3"],[1,"col-sm-12"],[1,"mb-2"],[1,"subtitle","mb-2"],[3,"routerLink"],[1,"signin-card-parent"],[1,"signin-card",3,"formGroup"],[1,"signinAvatarParent","mb-3"],["alt","avartar",1,"img-h-100","border-circ",3,"src"],["appearance","outline",1,"mb-3","full-w"],["matInput","","placeholder","Email",3,"formControlName","keyup.enter"],["matSuffix",""],["appearance","outline",1,"full-w"],["matInput","","placeholder","Password","type","password",3,"formControlName","keyup.enter"],[1,"left-align"],["color","primary",1,"example-margin",3,"formControlName"],[4,"ngIf"],[1,"center-align"],[3,"diameter",4,"ngIf"],["mat-button","","class","signin-btn",3,"disabled","click",4,"ngIf"],[1,"alert","alert-warning"],[3,"diameter"],["mat-button","",1,"signin-btn",3,"disabled","click"]],template:function(n,e){1&n&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"div",2),s.Cc(3),s.Vb(),s.Wb(4,"div",3),s.Cc(5," Don't have an account? "),s.Wb(6,"a",4),s.Cc(7,"Register here."),s.Vb(),s.Vb(),s.Wb(8,"div",5),s.Wb(9,"mat-card",6),s.Wb(10,"mat-card-content"),s.Wb(11,"div",7),s.Rb(12,"img",8),s.Vb(),s.Wb(13,"div"),s.Wb(14,"mat-form-field",9),s.Wb(15,"mat-label"),s.Cc(16,"Email"),s.Vb(),s.Wb(17,"input",10),s.ec("keyup.enter",(function(){return e.onSignInClick()})),s.Vb(),s.Wb(18,"mat-icon",11),s.Cc(19,"email"),s.Vb(),s.Wb(20,"mat-hint"),s.Cc(21,"Email associated with your account."),s.Vb(),s.Wb(22,"mat-error"),s.Cc(23,"Invalid email format."),s.Vb(),s.Vb(),s.Vb(),s.Wb(24,"mat-form-field",12),s.Wb(25,"mat-label"),s.Cc(26,"Password"),s.Vb(),s.Wb(27,"input",13),s.ec("keyup.enter",(function(){return e.onSignInClick()})),s.Vb(),s.Wb(28,"mat-icon",11),s.Cc(29,"https"),s.Vb(),s.Vb(),s.Wb(30,"div",14),s.Wb(31,"mat-checkbox",15),s.Cc(32," Keep me logged in. "),s.Vb(),s.Vb(),s.Bc(33,O,3,1,"div",16),s.Vb(),s.Wb(34,"mat-card-actions"),s.Wb(35,"div",17),s.Bc(36,M,1,1,"app-loading-spinner",18),s.Bc(37,P,2,1,"button",19),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&n&&(s.Db(3),s.Ec(" ",e.signInTitle," "),s.Db(3),s.nc("routerLink",s.oc(10,E)),s.Db(3),s.nc("formGroup",e.signFg),s.Db(3),s.nc("src",e.avartarImgSrc,s.wc),s.Db(5),s.nc("formControlName","id"),s.Db(10),s.nc("formControlName","password"),s.Db(4),s.nc("formControlName","saveSession"),s.Db(2),s.nc("ngIf",e.errorOccured),s.Db(3),s.nc("ngIf",e.loading),s.Db(1),s.nc("ngIf",!e.loading))},directives:[b.d,w.a,a.l,a.f,w.c,y.c,y.g,V.b,a.b,a.k,a.e,W.a,y.h,y.f,y.b,k.a,l.k,w.b,I,D.a],styles:["@media only screen and (min-width:630px){.signin-card[_ngcontent-%COMP%]{width:30rem}}@media only screen and (max-width:630px){.signin-card[_ngcontent-%COMP%]{min-width:100%}}.signin-card-parent[_ngcontent-%COMP%]{display:flex;justify-content:center}.signinAvatarParent[_ngcontent-%COMP%]{height:50px}.border-circ[_ngcontent-%COMP%]{border-radius:96px}.signin-btn[_ngcontent-%COMP%]{width:100%;color:#1a8cff;font-weight:800}.subtitle[_ngcontent-%COMP%]{font-size:.8rem}"]}),_),x=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"isErrorState",value:function(n,e){return!!(n&&n.invalid&&(n.dirty||n.touched||e&&e.submitted))}}]),n}();function N(n,e){1&n&&(s.Wb(0,"mat-error"),s.Cc(1,"Invalid email format."),s.Vb())}function B(n,e){1&n&&(s.Wb(0,"mat-error"),s.Cc(1,"Email is required."),s.Vb())}function j(n,e){1&n&&(s.Wb(0,"mat-error"),s.Cc(1," This email is already taken. If you have already signed up, try logging in instead. "),s.Vb())}function A(n,e){1&n&&(s.Wb(0,"mat-error"),s.Cc(1,"Please enter a password."),s.Vb())}function G(n,e){1&n&&(s.Wb(0,"mat-error"),s.Cc(1,"Needs to be at least 6 characters."),s.Vb())}function L(n,e){1&n&&(s.Wb(0,"mat-error"),s.Cc(1," Password does not match. "),s.Vb())}function R(n,e){if(1&n&&(s.Wb(0,"div",23),s.Wb(1,"div",24),s.Cc(2),s.Vb(),s.Vb()),2&n){var t=s.ic();s.Db(2),s.Ec(" ",t.errorMsg," ")}}function $(n,e){1&n&&s.Rb(0,"app-loading-spinner",25),2&n&&s.nc("diameter",25)}function q(n,e){if(1&n){var t=s.Xb();s.Wb(0,"button",26),s.ec("click",(function(){return s.uc(t),s.ic().onSignupClick()})),s.Cc(1," Create account "),s.Vb()}}var K,Q,T,X,J=function(){return["../","signin"]},U=[{path:"",component:u,children:[{path:"",redirectTo:"signin",pathMatch:"full"},{path:"signin",component:S},{path:"signup",component:(K=function(){function n(e,t,r,i){var o=this;_classCallCheck(this,n),this.fb=e,this.as=t,this.router=r,this.store=i,this.matcher=new x,this.signInTitle="Create your Milestone Account.",this.avartarImgSrc="assets/banner/milestones-banner-4.png",this.compDest$=new f.a;var s=null,c=null;p.a.production||(s="t@test.com",c="123456"),this.store.select("appAuth").pipe(Object(h.a)(this.compDest$)).subscribe((function(n){o.errorMsg=n.errorMsg,o.errorOccured=n.error,o.loading=n.loading,o.disableFieldsOnLoading(n.loading)})),this.signFg=this.fb.group({email:d(s,!1,[a.o.required,a.o.email]),password:d(c,!1,[a.o.required]),repassword:d(c,!1,[a.o.required])})}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.as.clearErrors(),this.signFg.valueChanges.pipe(Object(h.a)(this.compDest$)).subscribe((function(e){n.as.clearErrors(),n.repasswordFc.setErrors(n.passwordFc.value!==n.repasswordFc.value?{passwordDoesNotMatch:!0}:null)}))}},{key:"onSignupClick",value:function(){var n=this.signFg.value;if(n.password!==n.repassword)this.as.throwErrorMessage("Password does not match.");else{var e=new g.a(n.email,n.password,!1);this.signup(e)}}},{key:"signup",value:function(n){this.as.registerUser(n)}},{key:"disableFieldsOnLoading",value:function(n){this.signFg&&(n?this.signFg.disable({onlySelf:!0,emitEvent:!1}):this.signFg.enable({onlySelf:!0,emitEvent:!1}))}},{key:"ngOnDestroy",value:function(){this.compDest$.next(),this.compDest$.complete()}},{key:"emailFc",get:function(){return this.signFg.get("email")}},{key:"passwordFc",get:function(){return this.signFg.get("password")}},{key:"repasswordFc",get:function(){return this.signFg.get("repassword")}}]),n}(),K.\u0275fac=function(n){return new(n||K)(s.Qb(a.c),s.Qb(v.a),s.Qb(b.b),s.Qb(C.h))},K.\u0275cmp=s.Kb({type:K,selectors:[["app-auth-signup"]],decls:47,vars:20,consts:[[1,"row","mb-3","roboto","text-center","mt-3"],[1,"col-sm-12"],[1,"mb-2"],[1,"subtitle","mb-2"],[3,"routerLink"],[1,"signin-card-parent"],[1,"signin-card",3,"formGroup"],[1,"signinAvatarParent","mb-3"],["alt","logo",1,"img-h-100","border-circ",3,"src"],[1,"secfont"],[1,"left-align","mb-3"],["appearance","outline",1,"mb-2","full-w"],["matInput","","placeholder","Email",3,"formControlName","errorStateMatcher"],["matSuffix",""],[4,"ngIf"],["appearance","outline",1,"password-input"],["matInput","","placeholder","Password","type","password",3,"formControlName","errorStateMatcher"],["appearance","outline",1,"repassword-input"],["matInput","","placeholder","Confirm password","type","password",3,"formControlName","errorStateMatcher","keyup.enter"],["class","err-msg-parent",4,"ngIf"],[1,"center-align"],[3,"diameter",4,"ngIf"],["mat-button","","class","signin-btn",3,"click",4,"ngIf"],[1,"err-msg-parent"],[1,"alert","alert-warning"],[3,"diameter"],["mat-button","",1,"signin-btn",3,"click"]],template:function(n,e){1&n&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"div",2),s.Cc(3),s.Vb(),s.Wb(4,"div",3),s.Wb(5,"a",4),s.Cc(6,"Go sign in instead"),s.Vb(),s.Vb(),s.Wb(7,"div",5),s.Wb(8,"mat-card",6),s.Wb(9,"mat-card-content"),s.Wb(10,"div",7),s.Rb(11,"img",8),s.Wb(12,"span",9),s.Cc(13,"Milestone Account"),s.Vb(),s.Vb(),s.Wb(14,"div",10),s.Wb(15,"mat-form-field",11),s.Wb(16,"mat-label"),s.Cc(17,"Email"),s.Vb(),s.Rb(18,"input",12),s.Wb(19,"mat-icon",13),s.Cc(20,"email"),s.Vb(),s.Wb(21,"mat-hint"),s.Cc(22,"This will be your login email."),s.Vb(),s.Bc(23,N,2,0,"mat-error",14),s.Bc(24,B,2,0,"mat-error",14),s.Bc(25,j,2,0,"mat-error",14),s.Vb(),s.Vb(),s.Wb(26,"div"),s.Wb(27,"mat-form-field",15),s.Wb(28,"mat-label"),s.Cc(29,"Password"),s.Vb(),s.Rb(30,"input",16),s.Wb(31,"mat-icon",13),s.Cc(32,"https"),s.Vb(),s.Bc(33,A,2,0,"mat-error",14),s.Bc(34,G,2,0,"mat-error",14),s.Vb(),s.Wb(35,"mat-form-field",17),s.Wb(36,"mat-label"),s.Cc(37,"Confirm"),s.Vb(),s.Wb(38,"input",18),s.ec("keyup.enter",(function(){return e.onSignupClick()})),s.Vb(),s.Wb(39,"mat-icon",13),s.Cc(40,"https"),s.Vb(),s.Bc(41,L,2,0,"mat-error",14),s.Vb(),s.Vb(),s.Bc(42,R,3,1,"div",19),s.Vb(),s.Wb(43,"mat-card-actions"),s.Wb(44,"div",20),s.Bc(45,$,1,1,"app-loading-spinner",21),s.Bc(46,q,2,0,"button",22),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&n&&(s.Db(3),s.Ec(" ",e.signInTitle," "),s.Db(2),s.nc("routerLink",s.oc(19,J)),s.Db(3),s.nc("formGroup",e.signFg),s.Db(3),s.nc("src",e.avartarImgSrc,s.wc),s.Db(7),s.nc("formControlName","email")("errorStateMatcher",e.matcher),s.Db(5),s.nc("ngIf",e.emailFc.hasError("email")),s.Db(1),s.nc("ngIf",e.emailFc.hasError("required")),s.Db(1),s.nc("ngIf",e.emailFc.hasError("emailExists")),s.Db(5),s.nc("formControlName","password")("errorStateMatcher",e.matcher),s.Db(3),s.nc("ngIf",e.passwordFc.hasError("required")),s.Db(1),s.nc("ngIf",e.passwordFc.hasError("weak")),s.Db(4),s.nc("formControlName","repassword")("errorStateMatcher",e.matcher),s.Db(3),s.nc("ngIf",e.repasswordFc&&e.repasswordFc.hasError("passwordDoesNotMatch")),s.Db(1),s.nc("ngIf",e.errorOccured),s.Db(3),s.nc("ngIf",e.loading),s.Db(1),s.nc("ngIf",!e.loading))},directives:[b.d,w.a,a.l,a.f,w.c,y.c,y.g,V.b,a.b,a.k,a.e,W.a,y.h,y.f,l.k,w.b,y.b,I,D.a],styles:[".signin-card[_ngcontent-%COMP%]{min-width:20rem}.signin-card-parent[_ngcontent-%COMP%]{display:flex;justify-content:center}.signinAvatarParent[_ngcontent-%COMP%]{height:50px;font-weight:800}.border-circ[_ngcontent-%COMP%]{border-radius:96px}.signin-btn[_ngcontent-%COMP%]{width:100%;color:#1a8cff;font-weight:800}.subtitle[_ngcontent-%COMP%]{font-size:.8rem}.err-msg-parent[_ngcontent-%COMP%]{max-width:25rem;margin:auto}@media only screen and (min-width:530px){.password-input[_ngcontent-%COMP%]{margin-right:.5rem}}@media only screen and (max-width:530px){.password-input[_ngcontent-%COMP%]{margin-right:0;width:100%}.repassword-input[_ngcontent-%COMP%]{width:100%}}"]}),K)}]}],z=((Q=function n(){_classCallCheck(this,n)}).\u0275mod=s.Ob({type:Q}),Q.\u0275inj=s.Nb({factory:function(n){return new(n||Q)},imports:[[b.e.forChild(U)],b.e]}),Q),H=t("bv9b"),Y=((X=function n(){_classCallCheck(this,n)}).\u0275mod=s.Ob({type:X}),X.\u0275inj=s.Nb({factory:function(n){return new(n||X)},providers:[],imports:[[H.a,F.a]]}),X),Z=((T=function n(){_classCallCheck(this,n)}).\u0275mod=s.Ob({type:T}),T.\u0275inj=s.Nb({factory:function(n){return new(n||T)},providers:[],imports:[[l.c,a.g,a.n,c,o.a,Y,z]]}),T)}}]);