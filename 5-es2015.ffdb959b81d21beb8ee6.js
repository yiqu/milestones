(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{txKf:function(t,n,e){"use strict";e.r(n),e.d(n,"AuthModule",(function(){return Q}));var r=e("3Pt+"),i=e("UmVK"),a=e("fXoL");let s=(()=>{class t{}return t.\u0275mod=a.Ob({type:t}),t.\u0275inj=a.Nb({factory:function(n){return new(n||t)},providers:[],imports:[[]]}),t})();var o=e("ofXK"),c=e("tyNb");let b=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=a.Kb({type:t,selectors:[["app-auth-home"]],decls:2,vars:0,consts:[[1,"container","mb-3"]],template:function(t,n){1&t&&(a.Wb(0,"div",0),a.Rb(1,"router-outlet"),a.Vb())},directives:[c.f],styles:[""]}),t})();function l(t,n,e=null,i=null){return new r.d({value:t||null,disabled:n},e,i)}var d=e("KJJU"),m=e("AytR"),g=e("XNiG"),p=e("1G5W"),u=e("lGQG"),h=e("kt0X"),f=e("Wp6s"),w=e("kmnG"),v=e("qFsG"),C=e("NFeN"),V=e("bSwM"),W=e("Xa2L");let y=(()=>{class t{constructor(){this.colorPalette="primary",this.diameter=55}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=a.Kb({type:t,selectors:[["app-loading-spinner"]],inputs:{colorPalette:"colorPalette",diameter:"diameter"},decls:1,vars:2,consts:[[3,"color","diameter"]],template:function(t,n){1&t&&a.Rb(0,"mat-spinner",0),2&t&&a.nc("color",n.colorPalette)("diameter",n.diameter)},directives:[W.b],encapsulation:2}),t})();var F=e("bTqV");function I(t,n){if(1&t&&(a.Wb(0,"div"),a.Wb(1,"div",20),a.Cc(2),a.Vb(),a.Vb()),2&t){const t=a.ic();a.Db(2),a.Ec(" ",t.errorMsg," ")}}function D(t,n){1&t&&a.Rb(0,"app-loading-spinner",21),2&t&&a.nc("diameter",25)}function M(t,n){if(1&t){const t=a.Xb();a.Wb(0,"button",22),a.ec("click",(function(){return a.uc(t),a.ic().onSignInClick()})),a.Cc(1,"Sign in"),a.Vb()}if(2&t){const t=a.ic();a.nc("disabled",t.idFc.invalid)}}const O=function(){return["../","signup"]};let k=(()=>{class t{constructor(t,n,e,i){this.fb=t,this.as=n,this.router=e,this.store=i,this.signInTitle="Sign in with your Milestones Account",this.avartarImgSrc="assets/banner/milestones-banner-4.png",this.compDest$=new g.a;let a=null,s=null;this.store.select("appAuth").pipe(Object(p.a)(this.compDest$)).subscribe(t=>{this.errorMsg=t.errorMsg,this.errorOccured=t.error,this.loading=t.loading,this.disableFieldsOnLoading(t.loading)}),m.a.production||(a="t1@test.com",s="123456"),this.signFg=this.fb.group({id:l(a,!1,[r.o.required,r.o.email]),password:l(s,!1),saveSession:l(!0,!1)})}get idFc(){return this.signFg.get("id")}get passwordFc(){return this.signFg.get("password")}ngOnInit(){this.as.clearErrors(),this.signFg.valueChanges.pipe(Object(p.a)(this.compDest$)).subscribe(t=>{this.as.clearErrors()})}onSignInClick(){if(this.passwordFc.value&&""!==this.passwordFc.value.trim()){const t=new d.a(this.signFg.value.id,this.signFg.value.password,this.signFg.value.saveSession);this.signIn(t)}else this.as.throwErrorMessage("Enter a password.")}signIn(t){this.as.userLogin(t)}disableFieldsOnLoading(t){this.signFg&&(t?this.signFg.disable({onlySelf:!0,emitEvent:!1}):this.signFg.enable({onlySelf:!0,emitEvent:!1}))}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return t.\u0275fac=function(n){return new(n||t)(a.Qb(r.c),a.Qb(u.a),a.Qb(c.b),a.Qb(h.h))},t.\u0275cmp=a.Kb({type:t,selectors:[["app-auth-signin"]],decls:38,vars:11,consts:[[1,"row","mb-3","roboto","text-center","mt-3"],[1,"col-sm-12"],[1,"mb-2"],[1,"subtitle","mb-2"],[3,"routerLink"],[1,"signin-card-parent"],[1,"signin-card",3,"formGroup"],[1,"signinAvatarParent","mb-3"],["alt","avartar",1,"img-h-100","border-circ",3,"src"],["appearance","outline",1,"mb-3","full-w"],["matInput","","placeholder","Email",3,"formControlName","keyup.enter"],["matSuffix",""],["appearance","outline",1,"full-w"],["matInput","","placeholder","Password","type","password",3,"formControlName","keyup.enter"],[1,"left-align"],["color","primary",1,"example-margin",3,"formControlName"],[4,"ngIf"],[1,"center-align"],[3,"diameter",4,"ngIf"],["mat-button","","class","signin-btn",3,"disabled","click",4,"ngIf"],[1,"alert","alert-warning"],[3,"diameter"],["mat-button","",1,"signin-btn",3,"disabled","click"]],template:function(t,n){1&t&&(a.Wb(0,"div",0),a.Wb(1,"div",1),a.Wb(2,"div",2),a.Cc(3),a.Vb(),a.Wb(4,"div",3),a.Cc(5," Don't have an account? "),a.Wb(6,"a",4),a.Cc(7,"Register here."),a.Vb(),a.Vb(),a.Wb(8,"div",5),a.Wb(9,"mat-card",6),a.Wb(10,"mat-card-content"),a.Wb(11,"div",7),a.Rb(12,"img",8),a.Vb(),a.Wb(13,"div"),a.Wb(14,"mat-form-field",9),a.Wb(15,"mat-label"),a.Cc(16,"Email"),a.Vb(),a.Wb(17,"input",10),a.ec("keyup.enter",(function(){return n.onSignInClick()})),a.Vb(),a.Wb(18,"mat-icon",11),a.Cc(19,"email"),a.Vb(),a.Wb(20,"mat-hint"),a.Cc(21,"Email associated with your account."),a.Vb(),a.Wb(22,"mat-error"),a.Cc(23,"Invalid email format."),a.Vb(),a.Vb(),a.Vb(),a.Wb(24,"mat-form-field",12),a.Wb(25,"mat-label"),a.Cc(26,"Password"),a.Vb(),a.Wb(27,"input",13),a.ec("keyup.enter",(function(){return n.onSignInClick()})),a.Vb(),a.Wb(28,"mat-icon",11),a.Cc(29,"https"),a.Vb(),a.Vb(),a.Wb(30,"div",14),a.Wb(31,"mat-checkbox",15),a.Cc(32," Keep me logged in. "),a.Vb(),a.Vb(),a.Bc(33,I,3,1,"div",16),a.Vb(),a.Wb(34,"mat-card-actions"),a.Wb(35,"div",17),a.Bc(36,D,1,1,"app-loading-spinner",18),a.Bc(37,M,2,1,"button",19),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&t&&(a.Db(3),a.Ec(" ",n.signInTitle," "),a.Db(3),a.nc("routerLink",a.oc(10,O)),a.Db(3),a.nc("formGroup",n.signFg),a.Db(3),a.nc("src",n.avartarImgSrc,a.wc),a.Db(5),a.nc("formControlName","id"),a.Db(10),a.nc("formControlName","password"),a.Db(4),a.nc("formControlName","saveSession"),a.Db(2),a.nc("ngIf",n.errorOccured),a.Db(3),a.nc("ngIf",n.loading),a.Db(1),a.nc("ngIf",!n.loading))},directives:[c.d,f.a,r.l,r.f,f.c,w.c,w.g,v.b,r.b,r.k,r.e,C.a,w.h,w.f,w.b,V.a,o.k,f.b,y,F.a],styles:["@media only screen and (min-width:630px){.signin-card[_ngcontent-%COMP%]{width:30rem}}@media only screen and (max-width:630px){.signin-card[_ngcontent-%COMP%]{min-width:100%}}.signin-card-parent[_ngcontent-%COMP%]{display:flex;justify-content:center}.signinAvatarParent[_ngcontent-%COMP%]{height:50px}.border-circ[_ngcontent-%COMP%]{border-radius:96px}.signin-btn[_ngcontent-%COMP%]{width:100%;color:#1a8cff;font-weight:800}.subtitle[_ngcontent-%COMP%]{font-size:.8rem}"]}),t})();class P{isErrorState(t,n){return!!(t&&t.invalid&&(t.dirty||t.touched||n&&n.submitted))}}function E(t,n){1&t&&(a.Wb(0,"mat-error"),a.Cc(1,"Invalid email format."),a.Vb())}function S(t,n){1&t&&(a.Wb(0,"mat-error"),a.Cc(1,"Email is required."),a.Vb())}function x(t,n){1&t&&(a.Wb(0,"mat-error"),a.Cc(1," This email is already taken. If you have already signed up, try logging in instead. "),a.Vb())}function N(t,n){1&t&&(a.Wb(0,"mat-error"),a.Cc(1,"Please enter a password."),a.Vb())}function _(t,n){1&t&&(a.Wb(0,"mat-error"),a.Cc(1,"Needs to be at least 6 characters."),a.Vb())}function B(t,n){1&t&&(a.Wb(0,"mat-error"),a.Cc(1," Password does not match. "),a.Vb())}function A(t,n){if(1&t&&(a.Wb(0,"div",23),a.Wb(1,"div",24),a.Cc(2),a.Vb(),a.Vb()),2&t){const t=a.ic();a.Db(2),a.Ec(" ",t.errorMsg," ")}}function G(t,n){1&t&&a.Rb(0,"app-loading-spinner",25),2&t&&a.nc("diameter",25)}function L(t,n){if(1&t){const t=a.Xb();a.Wb(0,"button",26),a.ec("click",(function(){return a.uc(t),a.ic().onSignupClick()})),a.Cc(1," Create account "),a.Vb()}}const j=function(){return["../","signin"]},R=[{path:"",component:b,children:[{path:"",redirectTo:"signin",pathMatch:"full"},{path:"signin",component:k},{path:"signup",component:(()=>{class t{constructor(t,n,e,i){this.fb=t,this.as=n,this.router=e,this.store=i,this.matcher=new P,this.signInTitle="Create your Milestone Account.",this.avartarImgSrc="assets/banner/milestones-banner-4.png",this.compDest$=new g.a;let a=null,s=null;m.a.production||(a="t@test.com",s="123456"),this.store.select("appAuth").pipe(Object(p.a)(this.compDest$)).subscribe(t=>{this.errorMsg=t.errorMsg,this.errorOccured=t.error,this.loading=t.loading,this.disableFieldsOnLoading(t.loading)}),this.signFg=this.fb.group({email:l(a,!1,[r.o.required,r.o.email]),password:l(s,!1,[r.o.required]),repassword:l(s,!1,[r.o.required])})}get emailFc(){return this.signFg.get("email")}get passwordFc(){return this.signFg.get("password")}get repasswordFc(){return this.signFg.get("repassword")}ngOnInit(){this.as.clearErrors(),this.signFg.valueChanges.pipe(Object(p.a)(this.compDest$)).subscribe(t=>{this.as.clearErrors(),this.repasswordFc.setErrors(this.passwordFc.value!==this.repasswordFc.value?{passwordDoesNotMatch:!0}:null)})}onSignupClick(){const t=this.signFg.value;if(t.password!==t.repassword)this.as.throwErrorMessage("Password does not match.");else{const n=new d.a(t.email,t.password,!1);this.signup(n)}}signup(t){this.as.registerUser(t)}disableFieldsOnLoading(t){this.signFg&&(t?this.signFg.disable({onlySelf:!0,emitEvent:!1}):this.signFg.enable({onlySelf:!0,emitEvent:!1}))}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return t.\u0275fac=function(n){return new(n||t)(a.Qb(r.c),a.Qb(u.a),a.Qb(c.b),a.Qb(h.h))},t.\u0275cmp=a.Kb({type:t,selectors:[["app-auth-signup"]],decls:47,vars:20,consts:[[1,"row","mb-3","roboto","text-center","mt-3"],[1,"col-sm-12"],[1,"mb-2"],[1,"subtitle","mb-2"],[3,"routerLink"],[1,"signin-card-parent"],[1,"signin-card",3,"formGroup"],[1,"signinAvatarParent","mb-3"],["alt","logo",1,"img-h-100","border-circ",3,"src"],[1,"secfont"],[1,"left-align","mb-3"],["appearance","outline",1,"mb-2","full-w"],["matInput","","placeholder","Email",3,"formControlName","errorStateMatcher"],["matSuffix",""],[4,"ngIf"],["appearance","outline",1,"password-input"],["matInput","","placeholder","Password","type","password",3,"formControlName","errorStateMatcher"],["appearance","outline",1,"repassword-input"],["matInput","","placeholder","Confirm password","type","password",3,"formControlName","errorStateMatcher","keyup.enter"],["class","err-msg-parent",4,"ngIf"],[1,"center-align"],[3,"diameter",4,"ngIf"],["mat-button","","class","signin-btn",3,"click",4,"ngIf"],[1,"err-msg-parent"],[1,"alert","alert-warning"],[3,"diameter"],["mat-button","",1,"signin-btn",3,"click"]],template:function(t,n){1&t&&(a.Wb(0,"div",0),a.Wb(1,"div",1),a.Wb(2,"div",2),a.Cc(3),a.Vb(),a.Wb(4,"div",3),a.Wb(5,"a",4),a.Cc(6,"Go sign in instead"),a.Vb(),a.Vb(),a.Wb(7,"div",5),a.Wb(8,"mat-card",6),a.Wb(9,"mat-card-content"),a.Wb(10,"div",7),a.Rb(11,"img",8),a.Wb(12,"span",9),a.Cc(13,"Milestone Account"),a.Vb(),a.Vb(),a.Wb(14,"div",10),a.Wb(15,"mat-form-field",11),a.Wb(16,"mat-label"),a.Cc(17,"Email"),a.Vb(),a.Rb(18,"input",12),a.Wb(19,"mat-icon",13),a.Cc(20,"email"),a.Vb(),a.Wb(21,"mat-hint"),a.Cc(22,"This will be your login email."),a.Vb(),a.Bc(23,E,2,0,"mat-error",14),a.Bc(24,S,2,0,"mat-error",14),a.Bc(25,x,2,0,"mat-error",14),a.Vb(),a.Vb(),a.Wb(26,"div"),a.Wb(27,"mat-form-field",15),a.Wb(28,"mat-label"),a.Cc(29,"Password"),a.Vb(),a.Rb(30,"input",16),a.Wb(31,"mat-icon",13),a.Cc(32,"https"),a.Vb(),a.Bc(33,N,2,0,"mat-error",14),a.Bc(34,_,2,0,"mat-error",14),a.Vb(),a.Wb(35,"mat-form-field",17),a.Wb(36,"mat-label"),a.Cc(37,"Confirm"),a.Vb(),a.Wb(38,"input",18),a.ec("keyup.enter",(function(){return n.onSignupClick()})),a.Vb(),a.Wb(39,"mat-icon",13),a.Cc(40,"https"),a.Vb(),a.Bc(41,B,2,0,"mat-error",14),a.Vb(),a.Vb(),a.Bc(42,A,3,1,"div",19),a.Vb(),a.Wb(43,"mat-card-actions"),a.Wb(44,"div",20),a.Bc(45,G,1,1,"app-loading-spinner",21),a.Bc(46,L,2,0,"button",22),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&t&&(a.Db(3),a.Ec(" ",n.signInTitle," "),a.Db(2),a.nc("routerLink",a.oc(19,j)),a.Db(3),a.nc("formGroup",n.signFg),a.Db(3),a.nc("src",n.avartarImgSrc,a.wc),a.Db(7),a.nc("formControlName","email")("errorStateMatcher",n.matcher),a.Db(5),a.nc("ngIf",n.emailFc.hasError("email")),a.Db(1),a.nc("ngIf",n.emailFc.hasError("required")),a.Db(1),a.nc("ngIf",n.emailFc.hasError("emailExists")),a.Db(5),a.nc("formControlName","password")("errorStateMatcher",n.matcher),a.Db(3),a.nc("ngIf",n.passwordFc.hasError("required")),a.Db(1),a.nc("ngIf",n.passwordFc.hasError("weak")),a.Db(4),a.nc("formControlName","repassword")("errorStateMatcher",n.matcher),a.Db(3),a.nc("ngIf",n.repasswordFc&&n.repasswordFc.hasError("passwordDoesNotMatch")),a.Db(1),a.nc("ngIf",n.errorOccured),a.Db(3),a.nc("ngIf",n.loading),a.Db(1),a.nc("ngIf",!n.loading))},directives:[c.d,f.a,r.l,r.f,f.c,w.c,w.g,v.b,r.b,r.k,r.e,C.a,w.h,w.f,o.k,f.b,w.b,y,F.a],styles:[".signin-card[_ngcontent-%COMP%]{min-width:20rem}.signin-card-parent[_ngcontent-%COMP%]{display:flex;justify-content:center}.signinAvatarParent[_ngcontent-%COMP%]{height:50px;font-weight:800}.border-circ[_ngcontent-%COMP%]{border-radius:96px}.signin-btn[_ngcontent-%COMP%]{width:100%;color:#1a8cff;font-weight:800}.subtitle[_ngcontent-%COMP%]{font-size:.8rem}.err-msg-parent[_ngcontent-%COMP%]{max-width:25rem;margin:auto}@media only screen and (min-width:530px){.password-input[_ngcontent-%COMP%]{margin-right:.5rem}}@media only screen and (max-width:530px){.password-input[_ngcontent-%COMP%]{margin-right:0;width:100%}.repassword-input[_ngcontent-%COMP%]{width:100%}}"]}),t})()}]}];let $=(()=>{class t{}return t.\u0275mod=a.Ob({type:t}),t.\u0275inj=a.Nb({factory:function(n){return new(n||t)},imports:[[c.e.forChild(R)],c.e]}),t})();var q=e("bv9b");let K=(()=>{class t{}return t.\u0275mod=a.Ob({type:t}),t.\u0275inj=a.Nb({factory:function(n){return new(n||t)},providers:[],imports:[[q.a,W.a]]}),t})(),Q=(()=>{class t{}return t.\u0275mod=a.Ob({type:t}),t.\u0275inj=a.Nb({factory:function(n){return new(n||t)},providers:[],imports:[[o.c,r.g,r.n,s,i.a,K,$]]}),t})()}}]);