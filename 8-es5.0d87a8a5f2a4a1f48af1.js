function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"7wo0":function(e,t,n){"use strict";n.r(t),n.d(t,"SettingsModule",(function(){return N}));var o=n("ofXK"),i=n("3Pt+"),a=n("37S3"),r=n("UmVK"),c=n("tyNb"),s=n("dq+2"),l=n("1G5W"),u=n("vkgz"),f=n("eIep"),b=n("Pk+l");function d(e){var t=e.value;return t&&t.match(/^[0-9]+([,.][0-9]+)?$/)?null:{numbersOnly:!0}}var g,h,p,v=n("XNiG"),y=n("fXoL"),m=n("kt0X"),k=n("lJxs"),C=n("I/3d"),w=((g=function(){function e(t,n){var o=this;_classCallCheck(this,e),this.afs=t,this.store=n,this.store.select("appAuth").subscribe((function(e){o.currentUser=e.verifiedUser}))}return _createClass(e,[{key:"getDocByPath",value:function(e){var t=this.currentUser.uid+"/"+e;return console.log(t),this.afs.doc(t).snapshotChanges().pipe(Object(k.a)((function(e){return console.log(e.payload.data(),e.payload.metadata,e.payload.ref),e.payload.data()})))}},{key:"setDocByPath",value:function(e,t){return this.afs.doc(this.currentUser.uid+"/"+e).set(t)}},{key:"updateDocByPath",value:function(e,t){return this.afs.doc(this.currentUser.uid+"/"+e).update(t)}},{key:"deleteDocByPath",value:function(e){return this.afs.doc(this.currentUser.uid+"/"+e).delete()}}]),e}()).\u0275fac=function(e){return new(e||g)(y.ac(C.a),y.ac(m.h))},g.\u0275prov=y.Mb({token:g,factory:g.\u0275fac,providedIn:"root"}),g),V=n("5eHb"),W=((h=function(){function e(t){_classCallCheck(this,e),this.ts=t}return _createClass(e,[{key:"getSuccess",value:function(e,t){this.ts.success(e,"Success!")}},{key:"getError",value:function(e){this.ts.error(e,"Error occured!")}},{key:"clearAll",value:function(){this.ts.clear()}}]),e}()).\u0275fac=function(e){return new(e||h)(y.ac(V.b))},h.\u0275prov=y.Mb({token:h,factory:h.\u0275fac,providedIn:"root"}),h),_=n("kmnG"),O=n("qFsG"),P=n("bTqV"),D=((p=function(){function e(t){_classCallCheck(this,e),this.router=t,this.loading=!0,this.logoShakeState=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||p)(y.Qb(c.b))},p.\u0275cmp=y.Kb({type:p,selectors:[["app-shared-loading"]],decls:13,vars:0,consts:[[1,"container","loading-container","mt-5"],[1,"row"],[1,"col-sm-12"],[1,"d-flex","loading-parent"],[1,"loading-logo"],["src","assets/banner/milestones-banner-4.png","alt","logo",1,"logo-img","d-inline-block"],[1,"lds-facebook"],[1,"d-flex","loading-parent","secfont"]],template:function(e,t){1&e&&(y.Wb(0,"div",0),y.Wb(1,"div",1),y.Wb(2,"div",2),y.Wb(3,"div",3),y.Wb(4,"div",4),y.Rb(5,"img",5),y.Vb(),y.Vb(),y.Wb(6,"div",3),y.Wb(7,"div",6),y.Rb(8,"div"),y.Rb(9,"div"),y.Rb(10,"div"),y.Vb(),y.Vb(),y.Wb(11,"div",7),y.Ec(12," Loading... "),y.Vb(),y.Vb(),y.Vb(),y.Vb())},styles:[".loading-logo[_ngcontent-%COMP%]{height:3rem}.loading-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.loading-container[_ngcontent-%COMP%], .loading-parent[_ngcontent-%COMP%]{justify-content:center;align-items:center}.loading-container[_ngcontent-%COMP%]{display:flex;height:100%}.lds-facebook[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;position:absolute;left:8px;width:16px;background:#007bff;-webkit-animation:lds-facebook 1.2s cubic-bezier(0,.5,.5,1) infinite;animation:lds-facebook 1.2s cubic-bezier(0,.5,.5,1) infinite}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{left:8px;-webkit-animation-delay:-.24s;animation-delay:-.24s}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:32px;-webkit-animation-delay:-.12s;animation-delay:-.12s}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:56px;-webkit-animation-delay:0;animation-delay:0}@-webkit-keyframes lds-facebook{0%{top:8px;height:64px}50%,to{top:24px;height:32px}}@keyframes lds-facebook{0%{top:8px;height:64px}50%,to{top:24px;height:32px}}"]}),p);function E(e,t){1&e&&(y.Wb(0,"mat-error"),y.Ec(1," Please enter only numerical values. "),y.Vb())}function x(e,t){1&e&&(y.Wb(0,"mat-error"),y.Ec(1," Field is "),y.Wb(2,"strong"),y.Ec(3,"required"),y.Vb(),y.Vb())}function M(e,t){1&e&&(y.Wb(0,"div",16),y.Ec(1," Please fix your invalid values. "),y.Vb())}function F(e,t){if(1&e){var n=y.Xb();y.Wb(0,"form",9),y.Wb(1,"mat-form-field",10),y.Wb(2,"mat-label"),y.Ec(3,"Total number of work days per year"),y.Vb(),y.Rb(4,"input",11),y.Cc(5,E,2,0,"mat-error",12),y.Cc(6,x,4,0,"mat-error",12),y.Vb(),y.Cc(7,M,2,0,"div",13),y.Wb(8,"div",14),y.Wb(9,"button",15),y.ec("click",(function(){return y.vc(n),y.ic().updateConfig()})),y.Ec(10,"Update"),y.Vb(),y.Vb(),y.Vb()}if(2&e){var o=y.ic();y.oc("formGroup",o.configFg),y.Db(5),y.oc("ngIf",o.workingDaysFc.hasError("numbersOnly")&&!o.workingDaysFc.hasError("required")),y.Db(1),y.oc("ngIf",o.workingDaysFc.hasError("required")),y.Db(1),y.oc("ngIf",!o.formValid)}}function I(e,t){1&e&&y.Rb(0,"app-shared-loading")}var U,S,j,G,R=[{path:"",component:(U=function(){function e(t,n,o,i){_classCallCheck(this,e),this.store=t,this.fb=n,this.afs=o,this.ts=i,this.formValid=!0,this.compDest$=new v.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.store.select("appAuth").pipe(Object(l.a)(this.compDest$),Object(u.a)((function(t){e.user=t.verifiedUser})),Object(f.a)((function(t){return e.getUserConfigData()}))).subscribe((function(t){e.buildConfigFg(t),e.ts.getSuccess("Config loaded.")}),(function(t){e.ts.getError(t.code)}))}},{key:"getUserConfigData",value:function(){return this.afs.getDocByPath("settings")}},{key:"buildConfigFg",value:function(e){this.configFg=this.fb.group({workDays:b.a(null==e?void 0:e.workDays,!1,[i.o.required,d])})}},{key:"updateConfig",value:function(){var e=this;this.formValid=this.configFg.valid;var t=this.configFg.value;console.log(t),this.configFg.valid&&this.afs.setDocByPath("settings",t).then((function(t){e.ts.getSuccess("Saved.")}),(function(t){e.ts.getError("Something went wrong saving your value.")}))}},{key:"ngOnDestroy",value:function(){this.compDest$.next(),this.compDest$.complete(),this.ts.clearAll()}},{key:"workingDaysFc",get:function(){return this.configFg.get("workDays")}}]),e}(),U.\u0275fac=function(e){return new(e||U)(y.Qb(m.h),y.Qb(i.c),y.Qb(w),y.Qb(W))},U.\u0275cmp=y.Kb({type:U,selectors:[["app-settings"]],decls:29,vars:2,consts:[[1,"container","mb-3"],[1,"row","mb-3","secfont","text-center","mt-3"],[1,"col-sm-12"],[1,"row","mb-2","mt-2"],[1,"col-lg-6","col-md-6","col-sm-12"],["role","alert",1,"alert","alert-primary"],[1,"col-sm-12","sub-title"],["class","full-w",3,"formGroup",4,"ngIf","ngIfElse"],["loading",""],[1,"full-w",3,"formGroup"],[1,"full-w"],["matInput","","formControlName","workDays"],[4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"mt-3"],["mat-flat-button","","color","primary","type","button",3,"click"],["role","alert",1,"alert","alert-danger"]],template:function(e,t){if(1&e&&(y.Wb(0,"div",0),y.Wb(1,"div",1),y.Wb(2,"div",2),y.Wb(3,"h2"),y.Ec(4,"Milestone Configurations"),y.Vb(),y.Vb(),y.Vb(),y.Wb(5,"div",3),y.Wb(6,"div",4),y.Wb(7,"div",5),y.Ec(8," General info for 2020:"),y.Rb(9,"br"),y.Ec(10," Days in 2020 From Wednesday, January 1, 2020, to Wednesday, December 31, 2020, there are: "),y.Rb(11,"br"),y.Wb(12,"ul"),y.Wb(13,"li"),y.Ec(14," 366 days "),y.Vb(),y.Wb(15,"li"),y.Ec(16," 252 working days "),y.Vb(),y.Wb(17,"li"),y.Ec(18," 104 weekend days "),y.Vb(),y.Wb(19,"li"),y.Ec(20," 10 public holidays "),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(21,"div",3),y.Wb(22,"div",6),y.Ec(23," Overall Configurations "),y.Vb(),y.Vb(),y.Wb(24,"div",3),y.Wb(25,"div",4),y.Cc(26,F,11,4,"form",7),y.Cc(27,I,1,0,"ng-template",null,8,y.Dc),y.Vb(),y.Vb(),y.Vb()),2&e){var n=y.tc(28);y.Db(26),y.oc("ngIf",t.configFg)("ngIfElse",n)}},directives:[o.k,i.p,i.l,i.f,_.c,_.g,O.b,i.b,i.k,i.e,P.a,_.b,D],styles:[".sub-title[_ngcontent-%COMP%]{font-weight:800}"]}),U),canActivate:[s.a]}],q=((G=function e(){_classCallCheck(this,e)}).\u0275mod=y.Ob({type:G}),G.\u0275inj=y.Nb({factory:function(e){return new(e||G)},imports:[[c.e.forChild(R)],c.e]}),G),B=((j=function e(){_classCallCheck(this,e)}).\u0275mod=y.Ob({type:j}),j.\u0275inj=y.Nb({factory:function(e){return new(e||j)},providers:[],imports:[[o.c]]}),j),N=((S=function e(){_classCallCheck(this,e)}).\u0275mod=y.Ob({type:S}),S.\u0275inj=y.Nb({factory:function(e){return new(e||S)},providers:[],imports:[[o.c,i.g,i.n,r.a,a.a,B,q]]}),S)}}]);