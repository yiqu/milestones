function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{txKf:function(e,t,n){"use strict";n.r(t),n.d(t,"AuthModule",(function(){return B}));var r,i=n("s7LF"),a=n("UmVK"),s=n("37S3"),o=n("SVse"),c=n("iInd"),l=n("8Y7J"),b=((r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=l.Jb({type:r,selectors:[["app-auth-home"]],decls:2,vars:0,consts:[[1,"container","mb-3"]],template:function(e,t){1&e&&(l.Vb(0,"div",0),l.Qb(1,"router-outlet"),l.Ub())},directives:[c.f],styles:[""]}),r),u=n("Pk+l"),m=n("KJJU"),d=n("AytR"),g=n("XNiG"),p=n("1G5W"),f=n("lGQG"),h=n("DQLy"),C=n("PDjf"),v=n("Q2Ze"),w=n("e6WT"),y=n("Tj54"),U=n("pMoy"),V=n("ugsT"),k=n("Dxy4");function I(e,t){if(1&e&&(l.Vb(0,"div"),l.Vb(1,"div",20),l.Cc(2),l.Ub(),l.Ub()),2&e){var n=l.gc();l.Cb(2),l.Ec(" ",n.errorMsg," ")}}function F(e,t){1&e&&l.Qb(0,"app-loading-spinner",21),2&e&&l.mc("diameter",25)}function P(e,t){if(1&e){var n=l.Wb();l.Vb(0,"button",22),l.cc("click",(function(){return l.tc(n),l.gc().onSignInClick()})),l.Cc(1,"Sign in"),l.Ub()}if(2&e){var r=l.gc();l.mc("disabled",r.idFc.invalid)}}var M,O=function(){return["../","signup"]},_=((M=function(){function e(t,n,r,a){var s=this;_classCallCheck(this,e),this.fb=t,this.as=n,this.router=r,this.store=a,this.signInTitle="Sign in with your Milestones Account",this.avartarImgSrc="assets/banner/milestones-banner-4.png",this.compDest$=new g.a;var o=null,c=null;this.store.select("appAuth").pipe(Object(p.a)(this.compDest$)).subscribe((function(e){s.errorMsg=e.errorMsg,s.errorOccured=e.error,s.loading=e.loading,s.disableFieldsOnLoading(e.loading)})),d.a.production||(o="t1@test.com",c="123456"),this.signFg=this.fb.group({id:u.a(o,!1,[i.s.required,i.s.email]),password:u.a(c,!1),saveSession:u.a(!0,!1)})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.as.clearErrors(),this.signFg.valueChanges.pipe(Object(p.a)(this.compDest$)).subscribe((function(t){e.as.clearErrors()}))}},{key:"onSignInClick",value:function(){if(this.passwordFc.value&&""!==this.passwordFc.value.trim()){var e=new m.a(this.signFg.value.id,this.signFg.value.password,this.signFg.value.saveSession);this.signIn(e)}else this.as.throwErrorMessage("Enter a password.")}},{key:"signIn",value:function(e){this.as.userLogin(e)}},{key:"disableFieldsOnLoading",value:function(e){this.signFg&&(e?this.signFg.disable({onlySelf:!0,emitEvent:!1}):this.signFg.enable({onlySelf:!0,emitEvent:!1}))}},{key:"ngOnDestroy",value:function(){this.compDest$.next(),this.compDest$.complete()}},{key:"idFc",get:function(){return this.signFg.get("id")}},{key:"passwordFc",get:function(){return this.signFg.get("password")}}]),e}()).\u0275fac=function(e){return new(e||M)(l.Pb(i.d),l.Pb(f.a),l.Pb(c.b),l.Pb(h.h))},M.\u0275cmp=l.Jb({type:M,selectors:[["app-auth-signin"]],decls:38,vars:11,consts:[[1,"row","mb-3","roboto","text-center","mt-3"],[1,"col-sm-12"],[1,"mb-2"],[1,"subtitle","mb-2"],[3,"routerLink"],[1,"signin-card-parent"],[1,"signin-card",3,"formGroup"],[1,"signinAvatarParent","mb-3"],["alt","avartar",1,"img-h-100","border-circ",3,"src"],["appearance","outline",1,"mb-3","full-w"],["matInput","","placeholder","Email",3,"formControlName","keyup.enter"],["matSuffix",""],["appearance","outline",1,"full-w"],["matInput","","placeholder","Password","type","password",3,"formControlName","keyup.enter"],[1,"left-align"],["color","primary",1,"example-margin",3,"formControlName"],[4,"ngIf"],[1,"center-align"],[3,"diameter",4,"ngIf"],["mat-button","","class","signin-btn",3,"disabled","click",4,"ngIf"],[1,"alert","alert-warning"],[3,"diameter"],["mat-button","",1,"signin-btn",3,"disabled","click"]],template:function(e,t){1&e&&(l.Vb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Cc(3),l.Ub(),l.Vb(4,"div",3),l.Cc(5," Don't have an account? "),l.Vb(6,"a",4),l.Cc(7,"Register here."),l.Ub(),l.Ub(),l.Vb(8,"div",5),l.Vb(9,"mat-card",6),l.Vb(10,"mat-card-content"),l.Vb(11,"div",7),l.Qb(12,"img",8),l.Ub(),l.Vb(13,"div"),l.Vb(14,"mat-form-field",9),l.Vb(15,"mat-label"),l.Cc(16,"Email"),l.Ub(),l.Vb(17,"input",10),l.cc("keyup.enter",(function(){return t.onSignInClick()})),l.Ub(),l.Vb(18,"mat-icon",11),l.Cc(19,"email"),l.Ub(),l.Vb(20,"mat-hint"),l.Cc(21,"Email associated with your account."),l.Ub(),l.Vb(22,"mat-error"),l.Cc(23,"Invalid email format."),l.Ub(),l.Ub(),l.Ub(),l.Vb(24,"mat-form-field",12),l.Vb(25,"mat-label"),l.Cc(26,"Password"),l.Ub(),l.Vb(27,"input",13),l.cc("keyup.enter",(function(){return t.onSignInClick()})),l.Ub(),l.Vb(28,"mat-icon",11),l.Cc(29,"https"),l.Ub(),l.Ub(),l.Vb(30,"div",14),l.Vb(31,"mat-checkbox",15),l.Cc(32," Keep me logged in. "),l.Ub(),l.Ub(),l.Ac(33,I,3,1,"div",16),l.Ub(),l.Vb(34,"mat-card-actions"),l.Vb(35,"div",17),l.Ac(36,F,1,1,"app-loading-spinner",18),l.Ac(37,P,2,1,"button",19),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&e&&(l.Cb(3),l.Ec(" ",t.signInTitle," "),l.Cb(3),l.mc("routerLink",l.nc(10,O)),l.Cb(3),l.mc("formGroup",t.signFg),l.Cb(3),l.mc("src",t.avartarImgSrc,l.vc),l.Cb(5),l.mc("formControlName","id"),l.Cb(10),l.mc("formControlName","password"),l.Cb(4),l.mc("formControlName","saveSession"),l.Cb(2),l.mc("ngIf",t.errorOccured),l.Cb(3),l.mc("ngIf",t.loading),l.Cb(1),l.mc("ngIf",!t.loading))},directives:[c.d,C.a,i.n,i.g,C.d,v.c,v.g,w.b,i.c,i.m,i.f,y.a,v.i,v.f,v.b,U.a,o.l,C.b,V.a,k.a],styles:["@media only screen and (min-width:630px){.signin-card[_ngcontent-%COMP%]{width:30rem}}@media only screen and (max-width:630px){.signin-card[_ngcontent-%COMP%]{min-width:100%}}.signin-card-parent[_ngcontent-%COMP%]{display:flex;justify-content:center}.signinAvatarParent[_ngcontent-%COMP%]{height:50px}.border-circ[_ngcontent-%COMP%]{border-radius:96px}.signin-btn[_ngcontent-%COMP%]{width:100%;color:#1a8cff;font-weight:800}.subtitle[_ngcontent-%COMP%]{font-size:.8rem}"]}),M),E=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isErrorState",value:function(e,t){return!!(e&&e.invalid&&(e.dirty||e.touched||t&&t.submitted))}}]),e}();function S(e,t){1&e&&(l.Vb(0,"mat-error"),l.Cc(1,"Invalid email format."),l.Ub())}function A(e,t){1&e&&(l.Vb(0,"mat-error"),l.Cc(1,"Email is required."),l.Ub())}function x(e,t){1&e&&(l.Vb(0,"mat-error"),l.Cc(1," This email is already taken. If you have already signed up, try logging in instead. "),l.Ub())}function D(e,t){1&e&&(l.Vb(0,"mat-error"),l.Cc(1,"Please enter a password."),l.Ub())}function N(e,t){1&e&&(l.Vb(0,"mat-error"),l.Cc(1,"Needs to be at least 6 characters."),l.Ub())}function j(e,t){1&e&&(l.Vb(0,"mat-error"),l.Cc(1," Password does not match. "),l.Ub())}function L(e,t){if(1&e&&(l.Vb(0,"div",23),l.Vb(1,"div",24),l.Cc(2),l.Ub(),l.Ub()),2&e){var n=l.gc();l.Cb(2),l.Ec(" ",n.errorMsg," ")}}function T(e,t){1&e&&l.Qb(0,"app-loading-spinner",25),2&e&&l.mc("diameter",25)}function Q(e,t){if(1&e){var n=l.Wb();l.Vb(0,"button",26),l.cc("click",(function(){return l.tc(n),l.gc().onSignupClick()})),l.Cc(1," Create account "),l.Ub()}}var $,G,J,q,K=function(){return["../","signin"]},W=(($=function(){function e(t,n,r,a){var s=this;_classCallCheck(this,e),this.fb=t,this.as=n,this.router=r,this.store=a,this.matcher=new E,this.signInTitle="Create your Milestone Account.",this.avartarImgSrc="assets/banner/milestones-banner-4.png",this.compDest$=new g.a;var o=null,c=null;d.a.production||(o="t@test.com",c="123456"),this.store.select("appAuth").pipe(Object(p.a)(this.compDest$)).subscribe((function(e){s.errorMsg=e.errorMsg,s.errorOccured=e.error,s.loading=e.loading,s.disableFieldsOnLoading(e.loading)})),this.signFg=this.fb.group({email:u.a(o,!1,[i.s.required,i.s.email]),password:u.a(c,!1,[i.s.required]),repassword:u.a(c,!1,[i.s.required])})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.as.clearErrors(),this.signFg.valueChanges.pipe(Object(p.a)(this.compDest$)).subscribe((function(t){e.as.clearErrors(),e.repasswordFc.setErrors(e.passwordFc.value!==e.repasswordFc.value?{passwordDoesNotMatch:!0}:null)}))}},{key:"onSignupClick",value:function(){var e=this.signFg.value;if(e.password!==e.repassword)this.as.throwErrorMessage("Password does not match.");else{var t=new m.a(e.email,e.password,!0);this.signup(t)}}},{key:"signup",value:function(e){this.as.registerUser(e)}},{key:"disableFieldsOnLoading",value:function(e){this.signFg&&(e?this.signFg.disable({onlySelf:!0,emitEvent:!1}):this.signFg.enable({onlySelf:!0,emitEvent:!1}))}},{key:"ngOnDestroy",value:function(){this.compDest$.next(),this.compDest$.complete()}},{key:"emailFc",get:function(){return this.signFg.get("email")}},{key:"passwordFc",get:function(){return this.signFg.get("password")}},{key:"repasswordFc",get:function(){return this.signFg.get("repassword")}}]),e}()).\u0275fac=function(e){return new(e||$)(l.Pb(i.d),l.Pb(f.a),l.Pb(c.b),l.Pb(h.h))},$.\u0275cmp=l.Jb({type:$,selectors:[["app-auth-signup"]],decls:47,vars:20,consts:[[1,"row","mb-3","roboto","text-center","mt-3"],[1,"col-sm-12"],[1,"mb-2"],[1,"subtitle","mb-2"],[3,"routerLink"],[1,"signin-card-parent"],[1,"signin-card",3,"formGroup"],[1,"signinAvatarParent","mb-3"],["alt","logo",1,"img-h-100","border-circ",3,"src"],[1,"secfont"],[1,"left-align","mb-3"],["appearance","outline",1,"mb-2","full-w"],["matInput","","placeholder","Email",3,"formControlName","errorStateMatcher"],["matSuffix",""],[4,"ngIf"],["appearance","outline",1,"password-input"],["matInput","","placeholder","Password","type","password",3,"formControlName","errorStateMatcher"],["appearance","outline",1,"repassword-input"],["matInput","","placeholder","Confirm password","type","password",3,"formControlName","errorStateMatcher","keyup.enter"],["class","err-msg-parent",4,"ngIf"],[1,"center-align"],[3,"diameter",4,"ngIf"],["mat-button","","class","signin-btn",3,"click",4,"ngIf"],[1,"err-msg-parent"],[1,"alert","alert-warning"],[3,"diameter"],["mat-button","",1,"signin-btn",3,"click"]],template:function(e,t){1&e&&(l.Vb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Cc(3),l.Ub(),l.Vb(4,"div",3),l.Vb(5,"a",4),l.Cc(6,"Go sign in instead"),l.Ub(),l.Ub(),l.Vb(7,"div",5),l.Vb(8,"mat-card",6),l.Vb(9,"mat-card-content"),l.Vb(10,"div",7),l.Qb(11,"img",8),l.Vb(12,"span",9),l.Cc(13,"Milestone Account"),l.Ub(),l.Ub(),l.Vb(14,"div",10),l.Vb(15,"mat-form-field",11),l.Vb(16,"mat-label"),l.Cc(17,"Email"),l.Ub(),l.Qb(18,"input",12),l.Vb(19,"mat-icon",13),l.Cc(20,"email"),l.Ub(),l.Vb(21,"mat-hint"),l.Cc(22,"This will be your login email."),l.Ub(),l.Ac(23,S,2,0,"mat-error",14),l.Ac(24,A,2,0,"mat-error",14),l.Ac(25,x,2,0,"mat-error",14),l.Ub(),l.Ub(),l.Vb(26,"div"),l.Vb(27,"mat-form-field",15),l.Vb(28,"mat-label"),l.Cc(29,"Password"),l.Ub(),l.Qb(30,"input",16),l.Vb(31,"mat-icon",13),l.Cc(32,"https"),l.Ub(),l.Ac(33,D,2,0,"mat-error",14),l.Ac(34,N,2,0,"mat-error",14),l.Ub(),l.Vb(35,"mat-form-field",17),l.Vb(36,"mat-label"),l.Cc(37,"Confirm"),l.Ub(),l.Vb(38,"input",18),l.cc("keyup.enter",(function(){return t.onSignupClick()})),l.Ub(),l.Vb(39,"mat-icon",13),l.Cc(40,"https"),l.Ub(),l.Ac(41,j,2,0,"mat-error",14),l.Ub(),l.Ub(),l.Ac(42,L,3,1,"div",19),l.Ub(),l.Vb(43,"mat-card-actions"),l.Vb(44,"div",20),l.Ac(45,T,1,1,"app-loading-spinner",21),l.Ac(46,Q,2,0,"button",22),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&e&&(l.Cb(3),l.Ec(" ",t.signInTitle," "),l.Cb(2),l.mc("routerLink",l.nc(19,K)),l.Cb(3),l.mc("formGroup",t.signFg),l.Cb(3),l.mc("src",t.avartarImgSrc,l.vc),l.Cb(7),l.mc("formControlName","email")("errorStateMatcher",t.matcher),l.Cb(5),l.mc("ngIf",t.emailFc.hasError("email")),l.Cb(1),l.mc("ngIf",t.emailFc.hasError("required")),l.Cb(1),l.mc("ngIf",t.emailFc.hasError("emailExists")),l.Cb(5),l.mc("formControlName","password")("errorStateMatcher",t.matcher),l.Cb(3),l.mc("ngIf",t.passwordFc.hasError("required")),l.Cb(1),l.mc("ngIf",t.passwordFc.hasError("weak")),l.Cb(4),l.mc("formControlName","repassword")("errorStateMatcher",t.matcher),l.Cb(3),l.mc("ngIf",t.repasswordFc&&t.repasswordFc.hasError("passwordDoesNotMatch")),l.Cb(1),l.mc("ngIf",t.errorOccured),l.Cb(3),l.mc("ngIf",t.loading),l.Cb(1),l.mc("ngIf",!t.loading))},directives:[c.d,C.a,i.n,i.g,C.d,v.c,v.g,w.b,i.c,i.m,i.f,y.a,v.i,v.f,o.l,C.b,v.b,V.a,k.a],styles:[".signin-card[_ngcontent-%COMP%]{min-width:20rem}.signin-card-parent[_ngcontent-%COMP%]{display:flex;justify-content:center}.signinAvatarParent[_ngcontent-%COMP%]{height:50px;font-weight:800}.border-circ[_ngcontent-%COMP%]{border-radius:96px}.signin-btn[_ngcontent-%COMP%]{width:100%;color:#1a8cff;font-weight:800}.subtitle[_ngcontent-%COMP%]{font-size:.8rem}.err-msg-parent[_ngcontent-%COMP%]{max-width:25rem;margin:auto}@media only screen and (min-width:530px){.password-input[_ngcontent-%COMP%]{margin-right:.5rem}}@media only screen and (max-width:530px){.password-input[_ngcontent-%COMP%]{margin-right:0;width:100%}.repassword-input[_ngcontent-%COMP%]{width:100%}}"]}),$),Z=n("IzEk"),z=n("lJxs"),R=[{path:"",component:b,canActivate:[(G=function(){function e(t,n,r){_classCallCheck(this,e),this.router=t,this.route=n,this.store=r}return _createClass(e,[{key:"canActivate",value:function(e,t){var n=this;return this.store.select("appAuth").pipe(Object(Z.a)(1),Object(z.a)((function(e){return!e.verifiedUser||n.router.createUrlTree(["/","my-account"])})))}}]),e}(),G.\u0275fac=function(e){return new(e||G)(l.Zb(c.b),l.Zb(c.a),l.Zb(h.h))},G.\u0275prov=l.Lb({token:G,factory:G.\u0275fac,providedIn:"root"}),G)],children:[{path:"",redirectTo:"signin",pathMatch:"full"},{path:"signin",component:_},{path:"signup",component:W}]}],X=((J=function e(){_classCallCheck(this,e)}).\u0275mod=l.Nb({type:J}),J.\u0275inj=l.Mb({factory:function(e){return new(e||J)},imports:[[c.e.forChild(R)],c.e]}),J),Y=n("pqmK"),B=((q=function e(){_classCallCheck(this,e)}).\u0275mod=l.Nb({type:q}),q.\u0275inj=l.Mb({factory:function(e){return new(e||q)},providers:[],imports:[[o.c,i.i,i.r,s.a,a.a,Y.a,X]]}),q)}}]);